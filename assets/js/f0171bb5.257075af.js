(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[992],{5106:function(e,n,o){"use strict";o.r(n),o.d(n,{frontMatter:function(){return s},metadata:function(){return d},toc:function(){return l},default:function(){return c}});var t=o(2122),i=o(9756),a=(o(7294),o(3905)),r=["components"],s={sidebar_position:2},d={unversionedId:"core/commands",id:"core/commands",isDocsHomePage:!1,title:"Commands",description:'Commands are your "do-ers." They are always triggered from some action, such as a user event or api response or even a simple timeout. All your interactions with the outside world should be here. They are composable, so err on making them too small.',source:"@site/docs/core/commands.md",sourceDirName:"core",slug:"/core/commands",permalink:"/oblong/docs/core/commands",editUrl:"https://github.com/travislwatson/oblong/edit/master/website/docs/core/commands.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Apps",permalink:"/oblong/docs/core/apps"},next:{title:"Queries",permalink:"/oblong/docs/core/queries"}},l=[{value:"Syntax",id:"syntax",children:[{value:"Command Name Duplication",id:"command-name-duplication",children:[]},{value:"Dependencies",id:"dependencies",children:[]},{value:"Command Body",id:"command-body",children:[]}]},{value:"Subscriptions",id:"subscriptions",children:[]},{value:"Unit Testing",id:"unit-testing",children:[]}],m={toc:l};function c(e){var n=e.components,o=(0,i.Z)(e,r);return(0,a.kt)("wrapper",(0,t.Z)({},m,o,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,'Commands are your "do-ers." They are always triggered from some action, such as a user event or api response or even a simple timeout. All your interactions with the outside world should be here. They are composable, so err on making them too small.'),(0,a.kt)("h2",{id:"syntax"},"Syntax"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const myCommand = O.command('myCommand')\n  .with({ your, dependencies, here })\n  .as((o) => {\n    // Your work goes here\n  })\n")),(0,a.kt)("h3",{id:"command-name-duplication"},"Command Name Duplication"),(0,a.kt)("p",null,"In the above example, you see ",(0,a.kt)("inlineCode",{parentName:"p"},"myCommand")," twice, so you might want to eliminate the duplication. The string version supplied to the ",(0,a.kt)("inlineCode",{parentName:"p"},"O.command(...)")," function is indeed optional; this is perfectly valid: ",(0,a.kt)("inlineCode",{parentName:"p"},"O.command()"),"."),(0,a.kt)("p",null,"But you still probably want to use it."),(0,a.kt)("p",null,"Here's why: unlike some other Redux libraries like thunks, commands automatically emit actions for you to inspect call orders of your commands. This string name is used for these actions. That means your debugging experience will be significantly worse without them."),(0,a.kt)("h3",{id:"dependencies"},"Dependencies"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".with({ ... })")," call allows you to specify any dependencies your command has. These dependencies will be available as properties on the first argument supplied to your command body."),(0,a.kt)("h3",{id:"command-body"},"Command Body"),(0,a.kt)("p",null,'Your command body is just a function with a special first argument: "little o." This special first argument will contain resolved versions of whatever dependencies you specify. Your command body can do about anything except directly trigger a re-render (the end result of your commands would need to trigger a state change which would trigger a reactive re-render). Commands are your Oblong workhorse!'),(0,a.kt)("h4",{id:"extra-arguments"},"Extra Arguments"),(0,a.kt)("p",null,"TODO"),(0,a.kt)("h4",{id:"return-value"},"Return Value"),(0,a.kt)("p",null,"TODO"),(0,a.kt)("h2",{id:"subscriptions"},"Subscriptions"),(0,a.kt)("p",null,"TODO"),(0,a.kt)("h2",{id:"unit-testing"},"Unit Testing"),(0,a.kt)("p",null,"TODO"))}c.isMDXComponent=!0}}]);